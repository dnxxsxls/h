# 통합된 만능 로컬 극값 탐지 시스템

## 개요

이 프로젝트는 여러 개의 분산된 로컬 극값 탐지 방법들을 하나로 통합한 만능 탐지 시스템입니다. 데이터의 특성을 자동으로 분석하여 최적의 탐지 방법을 선택하고, 더 정확하고 신뢰할 수 있는 극값 탐지를 제공합니다.

## 주요 특징

### 🎯 통합된 탐지 시스템
- **6가지 탐지 방법을 하나로 통합**: simple, window, slope, alternating, enhanced, strict
- **자동 방법 선택**: 데이터 특성을 분석하여 최적의 탐지 방법을 자동으로 선택
- **적응형 알고리즘**: 데이터의 변동성, 노이즈 레벨, 극값 밀도 등을 고려한 지능적 탐지

### 🔍 데이터 특성 분석
- **변동성 분석**: 데이터의 전체적인 변동 패턴 분석
- **노이즈 레벨 추정**: 연속된 값들의 차이를 기반으로 한 노이즈 레벨 계산
- **진동 패턴 감지**: 데이터가 진동 패턴을 보이는지 자동 감지
- **평평한 구간 감지**: 데이터에 plateau가 있는지 확인

### 🛠️ 고급 기능
- **후처리 및 검증**: 탐지된 극값의 품질을 검증하고 중복 제거
- **거리 기반 필터링**: 너무 가까운 극값들을 자동으로 제거
- **품질 기반 필터링**: 노이즈 레벨을 고려한 극값 품질 검증

## 파일 구조

```
├── unified_extrema_detector.py    # 통합된 탐지 시스템 (핵심)
├── local_extrema_gui.py          # GUI 인터페이스
├── cube 1.txt                    # 테스트 데이터 1
├── cube 2.txt                    # 테스트 데이터 2
├── cube 3.txt                    # 테스트 데이터 3
├── cube 4.txt                    # 테스트 데이터 4
├── sample_xy_data.txt            # 샘플 X-Y 데이터
└── README.md                     # 이 파일
```

## 사용 방법

### 1. GUI 사용 (권장)

```bash
python local_extrema_gui.py
```

**GUI 사용법:**
1. "파일 선택" 버튼을 클릭하여 데이터 파일(.txt)을 선택
2. 탐지 방법을 선택 (auto: 자동 선택 권장)
3. 원하는 파라미터를 설정
4. "분석 실행" 버튼을 클릭하여 분석 시작
5. 결과를 확인하고 필요시 저장

### 2. 프로그래밍 방식 사용

```python
from unified_extrema_detector import UnifiedExtremaDetector

# 탐지기 생성
detector = UnifiedExtremaDetector()

# 데이터 로드
data = [1.0, 2.0, 1.5, 3.0, 2.5, 4.0, 3.5, 5.0, 4.5, 6.0]

# 자동 탐지 (권장)
minima, maxima = detector.detect_extrema(data)

# 특정 방법으로 탐지
minima, maxima = detector.detect_extrema(data, method="enhanced")

# 결과 출력
print(f"최대값: {len(maxima)}개")
print(f"최소값: {len(minima)}개")
```

## 탐지 방법 설명

### 1. auto (자동 선택) - **권장**
데이터의 특성을 분석하여 최적의 방법을 자동으로 선택합니다.

### 2. simple (단순 방법)
이웃 값들과의 직접 비교를 통한 기본적인 극값 탐지

### 3. window (윈도우 기반)
주변 윈도우 내의 모든 값과 비교하여 극값을 탐지

### 4. slope (기울기 변화)
미분의 부호 변화를 이용한 극값 탐지

### 5. alternating (교차 패턴)
최대값 → 최소값 → 최대값 순서의 교차 패턴을 보장하는 탐지

### 6. enhanced (향상된 교차 패턴)
교차 패턴에 추가적인 품질 검증을 적용한 고급 탐지

### 7. strict (엄격한 조건)
매우 엄격한 조건을 적용하여 노이즈를 최대한 제거한 탐지

## 데이터 형식

### 지원하는 파일 형식
- **텍스트 파일 (.txt)**: 각 줄에 하나의 실수 값
- **X-Y 좌표 데이터**: X와 Y 라벨로 구분된 데이터

### 예시 데이터 형식

**단일 값 데이터:**
```
1.234
2.456
3.789
...
```

**X-Y 좌표 데이터:**
```
X
1.0
2.0
3.0
Y
1.234
2.456
3.789
```

## 성능 및 정확도

### 자동 방법 선택 기준
- **데이터 길이 < 10**: simple 방법
- **진동 패턴 + 높은 극값 밀도**: alternating 방법
- **평평한 구간 존재**: window 방법
- **높은 노이즈 레벨**: enhanced 방법
- **매우 높은 극값 밀도**: strict 방법
- **낮은 변동성**: slope 방법
- **기본**: enhanced 방법

### 품질 향상 기능
- **중복 제거**: 같은 인덱스의 중복 극값 자동 제거
- **거리 필터링**: 최소 거리 조건을 만족하지 않는 극값 제거
- **품질 검증**: 노이즈 레벨을 고려한 극값 품질 검증

## 요구사항

- Python 3.6+
- NumPy
- Matplotlib
- Tkinter (GUI용)

## 설치 및 실행

```bash
# 필요한 패키지 설치
pip install numpy matplotlib

# GUI 실행
python local_extrema_gui.py

# 또는 통합 시스템 직접 실행
python unified_extrema_detector.py
```

## 업데이트 내역

### v2.0 (통합 버전)
- ✅ 6가지 탐지 방법을 하나로 통합
- ✅ 자동 방법 선택 기능 추가
- ✅ 데이터 특성 분석 기능 추가
- ✅ 고급 후처리 및 품질 검증 기능 추가
- ✅ GUI 인터페이스 개선
- ✅ 기존 개별 파일들 정리 및 통합

### v1.x (이전 버전)
- 개별 탐지 방법들이 분산되어 있던 버전
- 수동으로 탐지 방법을 선택해야 했던 버전

## 문제 해결

### 자주 발생하는 문제
1. **파일을 찾을 수 없음**: 파일 경로를 확인하고 올바른 위치에 파일이 있는지 확인
2. **데이터 형식 오류**: 텍스트 파일이 올바른 형식인지 확인 (각 줄에 하나의 숫자)
3. **메모리 부족**: 매우 큰 데이터 파일의 경우 메모리 사용량을 확인

### 지원 및 문의
프로젝트 관련 문의나 버그 리포트는 이슈를 통해 제출해주세요.

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.
